<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Cute Padlock - 6 Digit PIN</title>
<style>
  body{margin:0;min-height:100vh;display:flex;align-items:center;justify-content:center;font-family:sans-serif;background:#f7f8fc;}
  .container{width:360px;background:#d556a2;border-radius:20px;box-shadow:0 8px 20px rgba(0,0,0,0.1);padding:20px;}
  .status{font-size:14px;color:#555;margin-bottom:10px;}
  .padlock-wrap{display:flex;flex-direction:column;align-items:center;gap:16px;}
  .shackle{width:100px;height:60px;border:8px solid #c9d6ff;border-bottom:none;border-radius:50px 50px 0 0;transition:transform 300ms ease;}
  .shackle.unlocked{transform:rotate(-15deg) translateY(-2px);}
  .body{width:140px;height:120px;border-radius:20px;background:#ffd7e5;position:relative;transition:transform 250ms ease;}
  .body.unlocked{transform:rotate(2deg);background:#c8f7c5;}
  .eye{position:absolute;top:35px;width:12px;height:12px;background:#333;border-radius:50%;}
  .eye.left{left:35px;} .eye.right{right:35px;}
  .mouth{position:absolute;top:65px;left:50%;transform:translateX(-50%);width:40px;height:20px;border:3px solid #333;border-top:none;border-radius:0 0 40px 40px;}
  .body.unlocked .mouth{border-color:green;}
  .dots{display:flex;gap:8px;justify-content:center;margin-top:90px;}
  .dot{width:14px;height:14px;border-radius:50%;border:2px solid #ccc;background:#fff;}
  .dot.filled{background:#9b6cff;border-color:#9b6cff;}
  .keypad{display:grid;grid-template-columns:repeat(3,1fr);gap:10px;margin-top:20px;}
  .key{padding:14px 0;background:#f7f6ff;border:1px solid #ddd;border-radius:12px;font-size:18px;font-weight:bold;cursor:pointer;}
  .controls{display:flex;justify-content:center;margin-top:14px;}
  .btn{padding:10px 14px;border:none;border-radius:10px;cursor:pointer;font-weight:bold;background:#d4f5d0;color:#215c37;}
  .message{margin-top:10px;font-size:14px;}
  /* Add to your <style> */
@keyframes bounceSpinOut {
  0%   { transform: translateY(0) rotate(0deg) scale(1); opacity: 1; }
  20%  { transform: translateY(-20px) rotate(90deg) scale(1.1); }
  40%  { transform: translateY(0) rotate(180deg) scale(1); }
  60%  { transform: translateY(-12px) rotate(270deg) scale(1.05); }
  80%  { transform: translateY(0) rotate(360deg) scale(1); }
  100% { transform: translateY(50px) rotate(720deg) scale(0.5); opacity: 0; }
}

.padlock-wrap.bounceSpin {
  animation: bounceSpinOut 1.2s ease forwards;
}
</style>
</head>
<body>
<div class="container">
  <div class="status">Unlock with your 6-digit PIN.</div>
  <div class="padlock-wrap">
    <div class="shackle" id="shackle"></div>
    <div class="body" id="lockBody">
      <div class="eye left"></div>
      <div class="eye right"></div>
      <div class="mouth"></div>
      <div class="dots" id="dots"></div>
    </div>
  </div>

  <div class="keypad">
    <button class="key" data-key="1">1</button>
    <button class="key" data-key="2">2</button>
    <button class="key" data-key="3">3</button>
    <button class="key" data-key="4">4</button>
    <button class="key" data-key="5">5</button>
    <button class="key" data-key="6">6</button>
    <button class="key" data-key="7">7</button>
    <button class="key" data-key="8">8</button>
    <button class="key" data-key="9">9</button>
    <button class="key" data-key="0">0</button>
    <button class="key" id="backspace">âŒ«</button>
    <button class="key" id="clear">Clear</button>
  </div>

  <div class="controls">
    <button class="btn" id="confirmBtn">Confirm</button>
  </div>
  <div id="message" class="message">Enter your PIN.</div>
</div>

<script>
let pinLength = 6;
let input = [];
const dotsEl = document.getElementById('dots');
const msgEl = document.getElementById('message');
const shackle = document.getElementById('shackle');
const lockBody = document.getElementById('lockBody');

// ðŸ”‘ Hardcoded PIN (frontend only)
const STORED_PIN = "122022";

function renderDots(){
  dotsEl.innerHTML='';
  for(let i=0;i<pinLength;i++){
    const d=document.createElement('div');
    d.className='dot'+(i<input.length?' filled':'');
    dotsEl.appendChild(d);
  }
}
renderDots();

document.querySelectorAll('.key[data-key]').forEach(btn=>{
  btn.addEventListener('click',()=>{
    if(input.length<pinLength){
      input.push(btn.dataset.key);
      renderDots();
    }
  });
});
document.getElementById('backspace').addEventListener('click',()=>{
  input.pop(); renderDots();
});
document.getElementById('clear').addEventListener('click',()=>{
  input=[]; renderDots();
});

document.getElementById('confirmBtn').addEventListener('click',()=>{
  if(input.length!==pinLength){
    msgEl.textContent='Enter exactly 6 digits.'; shake();
    return;
  }
  const current=input.join('');
  if(current===STORED_PIN){
    msgEl.textContent='Unlocked!';
    unlockAnim(true);
    const padlock = document.querySelector('.padlock-wrap');
    padlock.classList.add('bounceSpin');

  // Redirect after bounce finishes
    setTimeout(()=>{ window.location.href="home.html"; },1200);
  }else{
    msgEl.textContent='Incorrect PIN.';
    unlockAnim(false);
  }
  input=[]; renderDots();
});

function shake(){
  lockBody.animate([
    {transform:'translateX(0)'},{transform:'translateX(-3px)'},{transform:'translateX(3px)'},{transform:'translateX(0)'}
  ],{duration:250});
}
function unlockAnim(success){
  if(success){
    shackle.classList.add('unlocked');
    lockBody.classList.add('unlocked');
    setTimeout(()=>{shackle.classList.remove('unlocked');lockBody.classList.remove('unlocked');},1200);
  }else{ shake(); }
}

</script>
</body>
</html>